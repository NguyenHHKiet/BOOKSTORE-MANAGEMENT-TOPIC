{% extends 'admin/master.html' %} {% block body %} {{ super() }}
<div class="container">
    <div class="row">
        <div class="col-sm-10 col-sm-offset-1">
            <h1>Flask-Admin example</h1>
            <p class="lead">Authentication</p>
            <div style="height: 50vh; width: 100%">
                <canvas id="myChartLine"></canvas>
            </div>
            <div class="row mt-5">
                <div class="col-8" style="width: 100%">
                    <canvas id="myChartBook"></canvas>
                </div>
                <div class="col-4" style="width: 100%">
                    <div>
                        Total Payment:
                        <span style="color: red">&dollar;{{arg1}}</span>
                    </div>
                    <div>
                        Items Count:
                        <span style="color: black">{{arg2}}</span>
                    </div>
                    <p>
                        This example shows how you can use
                        <a
                            href="https://pythonhosted.org/Flask-Security/index.html"
                            target="_blank"
                            >Flask-Security</a
                        >
                        for authentication.
                    </p>
                    <p>
                        <a class="btn btn-primary" href="/"
                            ><i class="glyphicon glyphicon-chevron-left"></i>
                            Back</a
                        >
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const labels = {{ labels | tojson}};

    const data = {
        labels: labels,
        datasets: [{
            label: 'Orders',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: {{ data | tojson}},
        }]
    };

    const dataBooks = {
        labels: {{book_label| tojson}},
        datasets: [{
            label: 'My First Dataset',
            data: {{book_list | tojson}},
            backgroundColor: {{colors | tojson}},
            hoverOffset: 4
        }]
    };
    const configBooks = {
        type: 'doughnut',
        data: dataBooks,
    };

    const config = {
        type: 'line',
        data: data,
        options: { maintainAspectRatio: false }
    };

    const myChart = new Chart(
        document.getElementById('myChartLine'),
        config
    );
    const myChartBook = new Chart(
        document.getElementById('myChartBook'),
        configBooks
    );
</script>
{% endblock body %}
